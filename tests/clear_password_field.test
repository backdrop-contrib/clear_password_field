<?php
/**
 * @file
 * Tests for Clear password field.
 */

/**
 * Functional tests for autocomplete attribute.
 */
class ClearPasswordFieldAddAutocomplete extends BackdropWebTestCase {
  public static function getInfo() {
    return array(
      'name' => 'Add autocomplete=off',
      'description' => 'Tests the addition of autocomplete=off to login user and password fields.',
      'group' => 'Clear password field',
    );
  }

  public function setUp() {
    parent::setUp();
  }

  function testAutocompleteOff() {
    module_disable(array('clear_password_field'));

    $this->backdropGet('user');
    $this->assertNoPattern('/autocomplete="off"/', 'The autocomplete attribute is missing.');

    module_enable(array('clear_password_field'));

    $this->backdropGet('user');
    $this->assertPattern('/autocomplete="off"/', 'The autocomplete attribute is added.');
  }
}
